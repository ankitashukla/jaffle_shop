{"6JqvbkrqWgvETXTGGitXq":{"name":"audit","macroId":"6JqvbkrqWgvETXTGGitXq","macroType":"query","definition":"select *, current_timestamp() as modified_on, 'kishore' as modified_by, \n     {% if execute %}\n\n        {% if not flags.FULL_REFRESH and config.get('materialized') == \"incremental\" %}\n\n            {%- set source_relation = adapter.get_relation(\n                database=target.database,\n                schema=this.schema,\n                identifier=this.table,\n                ) -%}      \n\n            {% if source_relation != None %}\n\n                {% set min_created_date %}\n                    SELECT LEAST(MIN(dbt_created_at), CURRENT_TIMESTAMP()) AS min_ts \n                    FROM {{ this }}\n                {% endset %}\n\n                {% set results = run_query(min_created_date) %}\n\n                '{{results.columns[0].values()[0]}}'::TIMESTAMP AS dbt_created_at\n\n            {% else %}\n\n                CURRENT_TIMESTAMP()               AS dbt_created_at\n\n            {% endif %}\n\n        {% else %}\n\n            CURRENT_TIMESTAMP()               AS dbt_created_at\n\n        {% endif %}\n    \n    {% endif %}\n\nfrom {{table_name}}","parameters":{"type":"record","fields":[{"name":"table_name","kind":{"type":"unknown","value":"","actualValue":"unknown"},"optional":false,"isWorkflowNodeConfiguration":false}]},"staleState":"none","propertiesFile":{"name":"macros","content":"---\nversion: 2\nmacros:\n- name: \"cents\"\n  description: \"This is cents to dollar\"\n  arguments:\n  - name: \"column_name\"\n    type: \"unknown\"\n    description: \"no major desc\"\n  - name: \"decimal_places\"\n    type: \"unknown\"\n    description: \"param with default value\"\n  macroType: \"expression\"\n- name: \"nested_cents\"\n  description: \"Nested Cents \"\n  arguments:\n  - name: \"column_name\"\n    type: \"unknown\"\n  macroType: \"expression\"\n- name: \"audit\"\n  arguments:\n  - name: \"table_name\"\n    type: \"unknown\"\n  macroType: \"query\"\n","path":"jaffle_shop/macros/macros.yml","projectConfiguration":null,"folderConfiguration":{"version":2,"macros":[{"name":"cents","description":"This is cents to dollar","arguments":[{"name":"column_name","type":"unknown","description":"no major desc"},{"name":"decimal_places","type":"unknown","description":"param with default value"}],"macroType":"expression"},{"name":"nested_cents","description":"Nested Cents ","arguments":[{"name":"column_name","type":"unknown"}],"macroType":"expression"},{"name":"audit","arguments":[{"name":"table_name","type":"unknown"}],"macroType":"query"}]}}}}